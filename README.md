# DigitRush

**DigitRush** is a lightning-fast mental math challenge game built natively for Reddit using the Devvit platform. Race against a 60-second countdown to solve as many arithmetic problems as possible while competing on a global leaderboard with authentic Reddit users!

![DigitRush Game Preview](assets/default-splash.png)

## What is DigitRush?

DigitRush is an intense 60-second mental math challenge that runs directly within Reddit posts, testing your mathematical speed and accuracy under extreme time pressure. Players race to solve as many arithmetic problems as possible while a countdown timer creates heart-pounding urgency.

### Core Gameplay
- **60-Second Challenge**: Solve as many math problems as possible in exactly 60 seconds
- **Four Operation Types**: Addition, subtraction, multiplication, and division with balanced difficulty
- **Simple Scoring**: Each correct answer = 1 point, no penalties for wrong answers
- **Revolutionary Auto-Submit**: Correct answers instantly advance to the next problem - no button pressing required
- **Manual Mode Option**: Toggle to manual mode for more deliberate gameplay with Enter key submission

### Revolutionary Auto-Submit Technology
DigitRush features breakthrough auto-submit technology that detects correct answers as you type and instantly advances to the next problem. This eliminates input friction and creates the fastest mental math gaming experience possible, allowing skilled players to achieve 50+ problems per minute (nearly 1 per second).

### Reddit-Native Integration
Built exclusively for Reddit's Devvit platform with seamless user integration:
- **Zero Downloads**: Runs directly in Reddit posts - no external apps required
- **Authentic Competition**: Global leaderboard with real Reddit usernames and avatars
- **Social Sharing**: Native mobile share API with pre-formatted challenge messages
- **Cross-Subreddit**: Players from different communities compete on unified leaderboards

### Game Flow
The game consists of three main screens:

1. **Start Page** - Welcome screen with total plays counter, leaderboard preview, and "How to Play" instructions
2. **Game Play** - The intense 60-second challenge with real-time scoring, countdown timer, and auto-submit system
3. **Game Results** - Performance analysis with metrics, social sharing, and leaderboard integration

## What Makes DigitRush Innovative?

### üöÄ Revolutionary Auto-Submit Technology
- **Instant Problem Advancement**: Correct answers are detected as you type and automatically advance to the next problem
- **Lightning-Fast Gameplay**: Eliminates input friction, allowing skilled players to achieve 50+ problems per minute
- **Smart Detection**: Real-time answer validation triggers instant submission only when complete correct answers are typed
- **Toggleable Modes**: Switch between auto-submit (default, maximum speed) and manual mode (Enter key submission)

### üéØ Perfectly Balanced 60-Second Format
- **Intense Time Pressure**: Creates urgency that eliminates hesitation and forces rapid mental calculation
- **Achievable Excellence**: Long enough for skilled players to demonstrate mastery while remaining accessible to beginners
- **Strategic Balance**: Players must balance speed vs accuracy - rushing causes mistakes, hesitation wastes time
- **Addictive Replay**: Perfect session length for "just one more game" psychology

### üèÜ Reddit-Native Gaming Platform
- **Zero-Friction Access**: First mental math game built natively for Reddit - no downloads or external accounts required
- **Authentic Competition**: Global leaderboard with real Reddit usernames, avatars, and community engagement
- **Advanced Social Sharing**: Native mobile share API with intelligent clipboard fallback for desktop
- **Cross-Subreddit Competition**: Players from different communities compete on unified global leaderboards

### üîí Sophisticated Anti-Cheat Architecture
- **Server-Side Generation**: All math problems generated server-side with unique IDs to prevent manipulation
- **Comprehensive Validation**: Server validates all answers, timing, and score calculations for leaderboard integrity
- **Grace Period Fairness**: Allows one final answer submission after timer expiration to account for network latency
- **Tamper-Proof Scoring**: All scoring logic handled server-side with Redis persistence

### üé® Advanced User Experience
- **Auto-Focus Input System**: Intelligent field focusing with automatic text selection for maximum speed
- **Instant Visual Feedback**: Color-coded input fields (green for correct, red for incorrect) with immediate answer reveals
- **Responsive Design**: Touch-optimized mobile controls with keyboard shortcuts and adaptive layouts
- **Custom Assets**: Specialized fonts (FFFFORWA, Medodica, EditUndo) and animated graphics for polished experience

### üéÆ Comprehensive Game State Management
- **Three-Screen Flow**: Seamless transitions between Start Page, Game Play, and Results screens
- **Real-Time Statistics**: Live tracking of score, accuracy, problems per minute, and personal bests
- **Persistent High Scores**: Individual player progress saved across sessions with Redis backend
- **Global Competition**: Paginated leaderboard with medal system and user avatar integration



## How to Play DigitRush

### üéÆ Quick Start Guide

#### 1. Getting Started
1. **Launch**: Click the green "Start Playing" button on the welcome screen
2. **View Leaderboard**: Click the trophy icon to see global rankings and top scores
3. **Learn**: Click "How to play?" for a quick tutorial modal

#### 2. Playing the 60-Second Challenge
1. **Auto-Submit Mode (Default)**:
   - Type numerical answers in the auto-focused input field
   - **Instant advancement**: Correct answers automatically advance to the next problem
   - **No button pressing**: Just type and the game flows seamlessly
   
2. **Manual Mode** (toggle at top of screen):
   - Type your answer and press **Enter** or click "Submit"
   - Allows double-checking answers before submission

3. **Game Interface**:
   - **Score** (top-left): Increases by 1 for each correct answer
   - **Timer** (top-right): 60-second countdown with progress bar (turns red at ‚â§10 seconds)
   - **Problem** (center): Large math equation (e.g., "15 √ó 7 = ?")
   - **Feedback**: Green input for correct, red for incorrect with answer shown

#### 3. Viewing Results
- **Performance Summary**: Final score with celebration animation for new personal bests
- **Analytics**: Problems per minute, accuracy percentage, personal high score
- **Social Sharing**: Challenge friends with pre-formatted messages
- **Leaderboard**: View your rank among all Reddit players
- **Continue**: "Play Again" or "Back to Menu" options

### üì± Step-by-Step Instructions

#### Starting Your First Game
1. **Open DigitRush**: Find a DigitRush post on Reddit and click the "Launch App" button
2. **Welcome Screen**: You'll see the Start Page with:
   - Total plays counter showing community engagement
   - Trophy button to view the global leaderboard
   - Green "Start Playing" button to begin your challenge
   - "How to play?" link for detailed instructions
3. **Begin Challenge**: Click "Start Playing" to launch the 60-second timer

#### During the 60-Second Challenge
1. **Read the Problem**: A math equation appears in large text (e.g., "47 + 83 = ?")
2. **Type Your Answer**: The input field is automatically focused - just start typing numbers
3. **Auto-Submit Magic**: 
   - With auto-submit ON (default): Correct answers instantly advance to the next problem
   - With auto-submit OFF: Press Enter or click Submit after typing your answer
4. **Watch Your Progress**: 
   - Score increases in the top-left corner for each correct answer
   - Timer counts down in the top-right with a visual progress bar
   - Input field turns green for correct answers, red for incorrect (showing the right answer)
5. **Toggle Modes**: Use the auto-submit toggle at the top to switch between lightning-fast and manual modes

#### After the Timer Expires
1. **Results Screen**: Automatically displays your performance summary
2. **Celebrate**: New personal bests trigger celebration animations with party emojis
3. **Analyze Performance**: View your:
   - Final score and problems solved per minute
   - Accuracy percentage (correct answers / total attempts)
   - Personal high score with gold medal icon
   - Current global leaderboard rank
4. **Share Your Score**: Use the share button to challenge friends with a pre-formatted message
5. **Continue Playing**: Choose "Play Again" for another round or "Back to Menu" to return to the start screen

#### Mastering the Leaderboard
1. **View Rankings**: Click the trophy icon from any screen to open the global leaderboard
2. **See Your Position**: Your current rank and score are highlighted at the top
3. **Browse Competition**: Scroll through paginated rankings with Reddit usernames and avatars
4. **Medal System**: Top 3 players receive Gold, Silver, and Bronze medal indicators
5. **Load More**: Use "Load More" to view additional players beyond the initial 10

### üéØ Game Strategy & Tips

#### Mastering the 60-Second Challenge
- **Auto-Submit Advantage**: With auto-submit enabled (default), skilled players can achieve 50+ problems per minute
- **Balance Speed & Accuracy**: Wrong answers waste time showing corrections, so maintain accuracy while maximizing speed
- **Develop Pattern Recognition**: Train your brain to recognize common number combinations and calculation shortcuts
- **Use Mental Math Techniques**: Practice rapid calculation methods for faster problem solving

#### Pro Tips for High Scores
- **Master Basic Facts**: Memorize addition/subtraction to 20 and multiplication tables
- **Find Your Rhythm**: Develop steady pace that balances speed with accuracy
- **Stay Calm**: Maintain focus and composure as the timer counts down
- **Practice Regularly**: Build mathematical fluency and interface familiarity

### üßÆ Math Problem Types

DigitRush generates four types of arithmetic problems with balanced difficulty:

| Operation | Format | Range | Examples | Difficulty |
|-----------|--------|-------|----------|------------|
| **Addition** | `A + B = ?` | 10-99 + 10-99 | `47 + 83`, `25 + 56` | Moderate |
| **Subtraction** | `A - B = ?` | 20-99 - 10-(A-1) | `74 - 29`, `85 - 47` | Moderate |
| **Multiplication** | `A √ó B = ?` | 2-20 √ó 2-10 | `7 √ó 8`, `15 √ó 6` | Moderate-Hard |
| **Division** | `A √∑ B = ?` | Clean division, 2-11 divisors | `84 √∑ 7`, `132 √∑ 11` | Moderate-Hard |

#### Key Features
- **Server-Side Generation**: Problems generated server-side with unique IDs to prevent cheating
- **Balanced Distribution**: Equal probability of each operation type
- **Clean Results**: All division problems result in whole numbers (no decimals)
- **No Trivial Problems**: Excludes problems with 1 as a factor

### üìä Game Mechanics & Scoring

#### Core Rules
- **Scoring**: Each correct answer = +1 point (no penalties for wrong answers)
- **Time Limit**: Exactly 60 seconds to solve as many problems as possible
- **Input**: Number-only input with support for negative results
- **Grace Period**: One final answer allowed after timer expires (network fairness)
- **Validation**: All answers and timing validated server-side to prevent cheating

#### Score Expectations
| Skill Level | Score Range | Description |
|-------------|-------------|-------------|
| **Beginner** | 5-15 | Learning interface and time pressure |
| **Developing** | 15-25 | Steady problem-solving pace |
| **Skilled** | 25-35 | Good mental math and input efficiency |
| **Expert** | 35-50 | Excellent mathematical fluency |
| **Master** | 50+ | Exceptional speed and near-perfect accuracy |

### üìà Results & Performance Analysis

After each 60-second challenge, view comprehensive performance analytics:

#### Game Summary
- **Final Score**: Prominently displayed with celebration animation for new personal bests
- **Performance Metrics**: Problems per minute rate and accuracy percentage
- **Personal Best**: All-time high score with gold medal icon
- **Global Rank**: Your position among all Reddit players

#### Responsive Layout
- **Mobile**: Single-column layout optimized for touch (Score ‚Üí Share ‚Üí Play Again ‚Üí Leaderboard ‚Üí Stats)
- **Desktop**: Two-column design with trophy icon for quick leaderboard access

#### Social Features
- **Global Leaderboard**: Reddit usernames with authentic avatars and medal system (Gold/Silver/Bronze)
- **Social Sharing**: Native mobile share API with clipboard fallback
- **Challenge Message**: Pre-formatted "I got a score of [X] in DigitRush. Can you beat my score?"
- **Paginated Rankings**: Load more functionality to view complete leaderboard

### üéÆ User Interface & Controls

#### Game Screen Layout
- **Top-Left**: Current score in bright green (#86f6b1)
- **Top-Right**: 60-second countdown timer with progress bar (turns red at ‚â§10 seconds)
- **Center**: Math problem in large text (e.g., "15 - 8 = ?")
- **Bottom**: Auto-focused answer input field with optional submit button

#### Input Controls
- **Auto-Submit Mode (Default)**: Type correct answers for instant advancement
- **Manual Mode**: Press Enter or click Submit button
- **Mode Toggle**: Switch between "Lightning fast!" and "Manual mode"
- **Auto-Focus**: Input field automatically focuses with text selection
- **Number-Only**: Accepts digits 0-9 and minus sign for negative results

#### Visual Feedback
- **Correct**: Green input field with "‚úÖ Correct!" message
- **Wrong**: Red input field with "‚ùå Wrong! Answer was [X]"
- **Progress**: Smooth countdown animation with color transitions
- **Loading**: Visual indicators during processing

## Development

### Quick Start
```bash
git clone <repository-url>
cd DigitRush
npm ci
npm run dev
```

### Project Structure
```
src/
‚îú‚îÄ‚îÄ client/          # React frontend with TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ components/  # Game screens (StartPage, GamePlay, GameResults, Leaderboard)
‚îÇ   ‚îú‚îÄ‚îÄ hooks/       # Custom hooks (useMathGame, useAssetPreloader)
‚îÇ   ‚îú‚îÄ‚îÄ public/      # Static assets (fonts, images)
‚îÇ   ‚îî‚îÄ‚îÄ main.tsx     # React entry point
‚îú‚îÄ‚îÄ server/          # Express API with Devvit integration
‚îÇ   ‚îú‚îÄ‚îÄ core/        # Business logic (post creation)
‚îÇ   ‚îî‚îÄ‚îÄ index.ts     # API endpoints (/api/game/*, /api/leaderboard)
‚îî‚îÄ‚îÄ shared/          # Shared types and constants
    ‚îú‚îÄ‚îÄ types/       # API type definitions
    ‚îî‚îÄ‚îÄ constants.ts # Game configuration (60s duration, 10s warning)
```

### Key Features
- **Game State Management**: Centralized state through `useMathGame` hook
- **Auto-Submit System**: Real-time answer detection with instant problem advancement
- **Anti-Cheat Protection**: Server-side problem generation and validation
- **Reddit Integration**: Native leaderboard with authentic user avatars
- **Responsive Design**: Mobile-first with desktop enhancements

### Configuration
Easily customize game difficulty by adjusting the duration:

```typescript
// src/shared/constants.ts
export const GAME_DURATION_SECONDS = 60;   // Standard: 60-second challenge
export const LOW_TIME_THRESHOLD = 10;      // Warning threshold (red progress bar)
```

### Commands
```bash
npm run dev        # Development server with hot reloading
npm run build      # Build for production
npm run deploy     # Deploy to Reddit using Devvit
npm run launch     # Publish for review on Reddit
```

## License

BSD-3-Clause
